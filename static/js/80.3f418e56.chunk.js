"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[80],{80:(e,l,r)=>{r.r(l),r.d(l,{default:()=>o});var a=r(9060),s=r(3084),t=r(7872),c=r(1560),i=r(3568),n=r(2496);const o=()=>{const e=(0,c.i6)(),[l,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{o()}),[]);const o=async()=>{try{const{data:{user:e}}=await t.G.auth.getUser(),{data:l,error:a}=await t.G.from("profiles").select("*").eq("id",e.id).single();if(a)throw a;l&&r(l)}catch(e){console.error("Error fetching profile:",e.message)}},m=e=>{const{name:l,value:a}=e.target,s=a.replace(/[^\d.]/g,"");r((e=>({...e,[l]:s})))},u=(0,a.useRef)(),d=(0,a.useRef)(),h=(0,a.useRef)(),f=(0,a.useRef)(),g=(0,a.useRef)();return(0,n.jsx)("div",{children:(0,n.jsx)(s.u0,{children:(0,n.jsxs)(s.Yj,{children:[l&&(0,n.jsxs)("form",{children:[(0,n.jsxs)(s.AX,{children:[(0,n.jsx)(s.oV,{xs:"12",md:"3",className:"d-flex align-items-center justify-content-center",children:(0,n.jsx)("img",{src:l.avatar_url||i,alt:"Avatar",width:"150",height:"150"})}),(0,n.jsx)("br",{}),(0,n.jsxs)(s.oV,{xs:"12",md:"auto",children:[(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),(0,n.jsx)("input",{type:"text",className:"form-control",ref:u,id:"fullName",value:l.full_name})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Gender"}),(0,n.jsxs)("select",{className:"form-select",id:"gender",ref:d,value:l.gender,children:[(0,n.jsx)("option",{value:"Male",children:"Male"}),(0,n.jsx)("option",{value:"Female",children:"Female"})]})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Weight (In kg)"}),(0,n.jsx)("input",{type:"text",className:"form-control",id:"weight",name:"weight",value:l.weight,onInput:m,ref:f})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"height",className:"form-label",children:"Height (In cm)"}),(0,n.jsx)("input",{type:"text",className:"form-control",id:"height",name:"height",value:l.height,onInput:m,ref:h})]}),(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:"age",className:"form-label",children:"Age"}),(0,n.jsx)("input",{type:"text",className:"form-control",id:"age",name:"age",value:l.age,onInput:m,ref:g})]})]})]}),(0,n.jsx)(s.uE,{color:"primary",onClick:async()=>{try{const r=u.current.value,a=d.current.value,s=h.current.value,c=f.current.value,i=g.current.value,{error:n}=await t.G.from("profiles").upsert({id:l.id,full_name:r,gender:a,weight:c,height:s,age:i});if(n)throw n;console.log("Profile updated successfully"),e("/profile")}catch(r){console.error("Error updating profile:",r.message)}},className:"float-end",children:"Save"})]}),!l&&(0,n.jsx)("p",{children:"Loading..."})]})})})}}}]);
//# sourceMappingURL=80.3f418e56.chunk.js.map