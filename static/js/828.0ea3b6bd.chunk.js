"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[828],{7828:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(9060),r=a(3084),o=a(4896),n=(a(5564),a(7872)),c=a(2496);const i=e=>{let{data:t}=e;const[a,s]=t.reduce(((e,t)=>{let{date:a,step_count:s}=t;return e[0].push(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(a).getDay()]),e[1].push(s),e}),[[],[]]);return(0,c.jsxs)("div",{className:"chart-container",children:[(0,c.jsx)("h4",{className:"text-center",children:"Walking Statistics for 7 Days"}),(0,c.jsx)(o.Eb,{type:"bar",data:{labels:a,datasets:[{label:"Steps",backgroundColor:"#002760",borderColor:"rgba(1, 1, 1, 1)",borderWidth:1,data:s}]},options:{plugins:{legend:{display:!0,labels:{color:"#333",font:{size:14,family:"Arial"}}}},scales:{x:{grid:{display:!0,color:"#ddd"},ticks:{color:"#333",font:{size:12,family:"Arial"}}},y:{grid:{display:!0,color:"#ddd"},ticks:{color:"#333",font:{size:12,family:"Arial"}}}}}})]})},l=e=>{let{data:t,height:a=0}=e;const s=a;let r=a;const n=t.map((e=>e.height)).reduce(((e,t)=>e+t),0);return n&&(r=n/t.length),(0,c.jsxs)("div",{className:"chart-container",children:[(0,c.jsx)("h4",{className:"text-center",children:"Height Statistics"}),(0,c.jsx)(o.Eb,{type:"doughnut",data:{labels:["Average","Initial"],datasets:[{backgroundColor:["#FF4500","#157DEC"],data:[r,s]}]},options:{plugins:{legend:{labels:{}}}}})]})},d=()=>{const[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await n.G.auth.getUser(),{data:a,error:s}=await n.G.from("foods").select("*").order("created_at",{ascending:!1});if(s)throw s;t(a.length||0)}catch(e){console.error("Error fetching Foods:",e.message)}})(),(async()=>{try{const{data:{user:e}}=await n.G.auth.getUser(),{data:t,error:a}=await n.G.from("meals").select("'*'").order("created_at",{ascending:!1});if(r(t.length||0),a)throw a}catch(e){console.error("Error fetching Meals:",e.message)}})()}),[]),(0,c.jsxs)("div",{className:"chart-container",children:[(0,c.jsx)("h4",{className:"text-center",children:"Meals/Foods Statistics"}),(0,c.jsx)(o.Eb,{type:"doughnut",data:{labels:["Total Meal","Total Food"],datasets:[{backgroundColor:["#800080","#25383C"],data:[a,e]}]},options:{plugins:{legend:{labels:{}}}}})]})},h=e=>{let{data:t,weight:a=0}=e;const s=a;let r=a;const n=t.map((e=>e.weight)).reduce(((e,t)=>e+t),0);return n&&(r=n/t.length),(0,c.jsxs)("div",{className:"chart-container",children:[(0,c.jsx)("h4",{className:"text-center",children:"Weight Statistics"}),(0,c.jsx)(o.Eb,{type:"doughnut",data:{labels:["Average","Initial"],datasets:[{backgroundColor:["#0000FF","#00D8FF"],data:[r,s]}]},options:{plugins:{legend:{labels:{}}}}})]})},u="https://type.fit/api/quotes",g=()=>{const[e,t]=(0,s.useState)("");return(0,s.useEffect)((()=>{const a=async()=>{fetch(u).then((e=>e.json())).then((e=>{if(e&&e.length>0){const a=e[Math.floor(Math.random()*e.length)];a.author=a.author.replace(", type.fit",""),console.log(a.text),t(a.text)}})).catch((e=>{console.error("Error fetching quote:",e.message)}))};a();const s=setInterval((async()=>{await a(),"Notification"in window?Notification.requestPermission().then((t=>{if("granted"===t){new Notification("Today's Quote from Zero Fitness",{body:e,icon:"/static/media/logo.63fd68bfce01b503da54.png"})}else console.log("Notification permission denied")})):console.log("This browser does not support desktop notification")}),3e5);return()=>clearInterval(s)}),[]),(0,c.jsx)("div",{})},p="https://type.fit/api/quotes",f=()=>{const[e,t]=(0,s.useState)(1),[a,o]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[x,j]=(0,s.useState)(!1),[y,m]=(0,s.useState)([]),[w,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("code");e?S(e):k(),_(),N()}),[]);const _=()=>{fetch(p).then((e=>e.json())).then((e=>{if(e&&e.length>0){const t=e[Math.floor(Math.random()*e.length)];t.author=t.author.replace(", type.fit",""),f(t)}})).catch((e=>{console.error("Error fetching quote:",e.message)}))},k=async()=>{j(!1);try{const e=await fetch("https://api-fit-app.netlify.app/api/googleFit"),t=await e.json();window.location.href=t.authUrl}catch(e){console.error("Error syncing Fit Data:",e)}finally{j(!0)}},S=async e=>{try{const t=await fetch("https://api-fit-app.netlify.app/api/googleFit/callback?code=".concat(e)),a=await t.json();if(a.isRedirectedToHome){m(a.data);const e=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,e)}}catch(t){console.error("Error fetching fitness data:",t)}},N=async()=>{try{const{data:{user:e}}=await n.G.auth.getUser(),{data:t,error:a}=await n.G.from("profiles").select("*").eq("id",e.id).single();if(a)throw a;o(t||[])}catch(e){console.error("Error fetching profile:",e.message)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(r.u0,{className:"text-center mb-4 quote-card",children:[(0,c.jsx)(r.Q_,{className:"quote-header",children:"Quote Of The Day"}),(0,c.jsxs)(r.Yj,{children:[(0,c.jsx)(r.wT,{className:"quote-text",children:u.text}),(0,c.jsx)(r.m,{className:"quote-author",children:u.author})]})]}),u?(0,c.jsx)(g,{}):null,(0,c.jsxs)(r.AX,{children:[(0,c.jsx)(r.oV,{children:y?(0,c.jsx)(h,{data:y,weight:a.weight}):null}),(0,c.jsx)(r.oV,{children:y?(0,c.jsx)(l,{data:y,height:a.height}):null}),(0,c.jsx)(r.oV,{children:y?(0,c.jsx)(d,{}):null})]}),(0,c.jsx)(r.AX,{children:(0,c.jsx)(r.oV,{children:y?(0,c.jsx)(i,{data:y}):null})}),(0,c.jsxs)(r.u0,{className:"mb-4",children:[(0,c.jsx)(r.Q_,{children:"Last 7 Days Fit Data"}),(0,c.jsx)(r.Yj,{children:(0,c.jsx)(r.CY,{children:(0,c.jsx)(r.Wy,{role:"tabpanel","aria-labelledby":"all-tab-pane",visible:1===e,children:(0,c.jsxs)(r.k7,{hover:!0,children:[(0,c.jsx)(r.Iy,{children:(0,c.jsxs)(r.uH,{children:[(0,c.jsx)(r.Qr,{scope:"col",children:"Date"}),(0,c.jsx)(r.Qr,{scope:"col",children:"Step Count"}),(0,c.jsx)(r.Qr,{scope:"col",children:"Weight"}),(0,c.jsx)(r.Qr,{scope:"col",children:"Height"}),(0,c.jsx)(r.Qr,{scope:"col",children:"Heart Rate"})]})}),(0,c.jsx)(r.g7,{children:y?y.map((e=>(0,c.jsxs)(r.uH,{children:[(0,c.jsx)(r.kz,{children:e.date}),(0,c.jsx)(r.kz,{children:e.step_count}),(0,c.jsx)(r.kz,{children:e.weight}),(0,c.jsx)(r.kz,{children:e.height_in_cms}),(0,c.jsx)(r.kz,{children:e.heart_rate})]}))):null})]})})})})]})]})}}}]);
//# sourceMappingURL=828.0ea3b6bd.chunk.js.map